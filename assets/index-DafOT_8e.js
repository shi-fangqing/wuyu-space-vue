import{_ as g,r as _,o as k,a as l,c as n,b as e,t as i,F as y,d as C,w as T,e as p,f as $,v as b,g as L,h as F,n as M}from"./index-Bju5caPQ.js";import{l as B,a as I}from"./markdown-RAa-vGNk.js";const N={class:"article-header"},z={class:"article-meta"},E={class:"article-tags"},S={class:"article-content"},V=["innerHTML"],q={__name:"ArticleDetail",props:{article:{type:Object,required:!0},onClose:{type:Function,required:!0}},setup(o){const h=o,d=_(""),u=v=>{const c=new Date(v);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(c)};return k(async()=>{const v=await B(h.article.id);d.value=v.content}),(v,c)=>(l(),n("div",{class:"article-detail-overlay",onClick:c[2]||(c[2]=(...r)=>o.onClose&&o.onClose(...r))},[e("div",{class:"article-detail",onClick:c[1]||(c[1]=T(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:c[0]||(c[0]=(...r)=>o.onClose&&o.onClose(...r))},"×"),e("div",N,[e("h1",null,i(o.article.title),1),e("div",z,[e("span",null,i(u(o.article.date)),1),e("span",null,i(o.article.category),1)]),e("div",E,[(l(!0),n(y,null,C(o.article.tags,r=>(l(),n("span",{key:r,class:"tag"},i(r),1))),128))])]),e("div",S,[e("div",{innerHTML:d.value},null,8,V)])])]))}},H=g(q,[["__scopeId","data-v-3bfb1593"]]),O={class:"articles"},j={class:"search-section"},Q={class:"search-box"},U={class:"tags-filter"},G=["onClick"],J={class:"article-list"},K={key:0,class:"no-results"},P=["onClick"],R={class:"article-meta"},W={class:"article-desc"},X={class:"article-tags"},Y={__name:"index",setup(o){const h=_([]),d=_(""),u=_([]),v=async()=>{h.value=await I()};k(async()=>{await v()});const c=p(()=>{const s=new Set;return h.value.forEach(a=>{a.tags.forEach(t=>s.add(t))}),Array.from(s)}),r=p(()=>h.value.filter(s=>{const a=d.value===""||s.title.toLowerCase().includes(d.value.toLowerCase())||s.description.toLowerCase().includes(d.value.toLowerCase()),t=u.value.length===0||u.value.every(m=>s.tags.includes(m));return a&&t})),w=s=>{const a=u.value.indexOf(s);a===-1?u.value.push(s):u.value.splice(a,1)},f=_(null),D=s=>{f.value=s},x=()=>{f.value=null},A=s=>{const a=new Date(s);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(a)};return(s,a)=>(l(),n("div",O,[e("div",j,[e("div",Q,[$(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),type:"text",placeholder:"搜索文章...",class:"search-input"},null,512),[[b,d.value]]),a[1]||(a[1]=e("span",{class:"search-icon"},"🔍",-1))]),e("div",U,[(l(!0),n(y,null,C(c.value,t=>(l(),n("div",{key:t,class:M(["filter-tag",{active:u.value.includes(t)}]),onClick:m=>w(t)},i(t),11,G))),128))])]),e("div",J,[r.value.length===0?(l(),n("div",K," 没有找到匹配的文章 ")):(l(!0),n(y,{key:1},C(r.value,t=>(l(),n("div",{key:t.id,class:"article-card",onClick:m=>D(t)},[e("h2",null,i(t.title),1),e("div",R,[e("span",null,i(A(t.date)),1),e("span",null,i(t.category),1)]),e("p",W,i(t.description),1),e("div",X,[(l(!0),n(y,null,C(t.tags,m=>(l(),n("span",{key:m,class:"tag"},i(m),1))),128))])],8,P))),128))]),f.value?(l(),L(H,{key:0,article:f.value,onClose:x},null,8,["article"])):F("",!0)]))}},te=g(Y,[["__scopeId","data-v-3eed9d06"]]);export{te as default};
